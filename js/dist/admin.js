(()=>{var t={n:o=>{var e=o&&o.__esModule?()=>o.default:()=>o;return t.d(e,{a:e}),e},d:(o,e)=>{for(var n in e)t.o(e,n)&&!t.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:e[n]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o)};(()=>{"use strict";const o=flarum.core.compat["admin/app"];var e=t.n(o);function n(t,o){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,o){return t.__proto__=o,t},n(t,o)}const a=flarum.core.compat["admin/components/ExtensionPage"];var r=t.n(a);const i=flarum.core.compat["common/components/Button"];var l=t.n(i);const u=flarum.core.compat["common/utils/ItemList"];var s=t.n(u);const c=flarum.core.compat["common/components/Select"];var p=t.n(c);function d(t,o){return e().translator.trans("xypp-limited-request.admin."+t,o)}var h=function(t){function o(){for(var o,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(o=t.call.apply(t,[this].concat(n))||this).existingItems=[],o.dataSettings=void 0,o.modeOpt={regex:d("match_mode.regex"),prefix:d("match_mode.prefix"),full:d("match_mode.full")},o.groupOpt={api:d("group.api"),forum:d("group.forum")},o.methodOpt={GET:d("match_method.GET"),POST:d("match_method.POST"),PUT:d("match_method.PUT"),DELETE:d("match_method.DELETE"),PATCH:d("match_method.PATCH"),OPTIONS:d("match_method.OPTIONS"),HEAD:d("match_method.HEAD")},o}var e,a;a=t,(e=o).prototype=Object.create(a.prototype),e.prototype.constructor=e,n(e,a);var r=o.prototype;return r.oninit=function(o){var e;t.prototype.oninit.call(this,o),this.dataSettings=this.setting("xypp.request_limit"),this.existingItems=JSON.parse((null==(e=this.dataSettings)?void 0:e.call(this))||"[]")},r.oncreate=function(o){t.prototype.oncreate.call(this,o)},r.content=function(t){return m("div",{className:"container"},m("table",{className:"Table"},m("thead",null,m("tr",null,m("th",null,d("mode")),m("th",null,d("method")),m("th",null,d("route_group")),m("th",null,d("value")),m("th",null,d("params")),m("th",null,d("group_id")),m("th",null,d("action")))),m("tbody",null,this.table().toArray())),this.submitButton())},r.table=function(){var t=this,o=new(s());return this.existingItems.forEach((function(e,n){o.add("item-"+n,m("tr",{key:n},m("td",null,m(p(),{className:"FormControl",options:t.modeOpt,value:e.mode,onchange:function(o){return t.modify(n,"mode",o)}})),m("td",null,m(p(),{className:"FormControl",options:t.methodOpt,value:e.method,onchange:function(o){return t.modify(n,"mode",o)}})),m("td",null,m(p(),{className:"FormControl",options:t.groupOpt,value:e.group,onchange:function(o){return t.modify(n,"group",o)}})),m("td",null,m("input",{className:"FormControl",value:e.path,oninput:function(o){return t.modify(n,"path",o.target.value)}})),m("td",null,m("input",{className:"FormControl",value:e.params.join(","),oninput:function(o){return t.modify(n,"params",o.target.value.split(","))}})),m("td",null,m("input",{className:"FormControl",value:e.group_id,oninput:function(o){return t.modify(n,"group_id",o.target.value)}})),m("td",null,m(l(),{className:"Button Button--danger",onclick:function(){t.existingItems.splice(n,1)}},d("delete")))))})),o.add("add",m("tr",{key:"add"},m("td",{colSpan:5},m(l(),{className:"Button Button--primary",onclick:function(){t.existingItems.push({mode:"full",group:"api",path:"",method:"GET",params:[],group_id:0})}},d("add"))))),o},r.modify=function(t,o,e){var n;this.existingItems[t][o]=e,null==(n=this.dataSettings)||n.call(this,JSON.stringify(this.existingItems))},o}(r());e().initializers.add("xypp/flarum-limited-request",(function(){e().extensionData.for("xypp-limited-request").registerPage(h)}))})(),module.exports={}})();
//# sourceMappingURL=admin.js.map